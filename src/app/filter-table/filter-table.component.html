<div class="container">
  <div class="input-group">
    <input [(ngModel)]="globalFilter" (keyup)="filterItems()" type="text" class="form-control" placeholder="Filter"
           aria-label="Filter" aria-describedby="button-addon2">
    <div class="input-group-append">
      <button [disabled]="!globalFilter" class="btn btn-outline-secondary" type="button" id="globalFilterButton"
              (click)="globalFilter = ''; filterItems()">X
      </button>
    </div>
  </div>
  <br>
  <div class="table-responsive-sm">
    <table class="table table-striped">
      <thead class="thead-light">
      <tr>
        <th scope="col">{{'product-backlog.row' | translate}}</th>
        <th *ngFor="let column of tableColumns" scope="col" (click)="sortItems(column)">{{'issue-board.'+ column |
          translate}}
          <i class="material-icons" *ngIf="orderType === column && sortAscending">arrow_drop_up</i>
          <i class="material-icons" *ngIf="orderType === column && !sortAscending">arrow_drop_down</i>
        </th>
      </tr>
      </thead>
      <tfoot class="table-dark">
      <th scope="col">{{'product-backlog.sum' | translate}}</th>
      <th scope="col"></th>
      <th scope="col"></th>
      <th scope="col"></th>
      <th scope="col">{{sum}}</th>
      </tfoot>
      <tr class="table-light">
        <td></td>
        <td *ngFor="let f of filter">
          <div class="input-group input-group-sm">
            <input [(ngModel)]="f.value" (keyup)="filterItems()" type="text" class="form-control"
                   placeholder="Filter" aria-label="Filter" aria-describedby="filter-field">
            <div class="input-group-append">
              <button [disabled]="!f.value" class="btn btn-outline-secondary" type="button" id="filterButton2"
                      (click)="f.value = ''; filterItems()">X
              </button>
            </div>
          </div>
        </td>

      </tr>
      <tbody>
      <tr *ngFor="let item of pagedItems[selectedPage]; let i = index">
        <th scope="row">{{i+1}}</th>
        <td *ngFor="let att of filter">{{item[att.key]}}</td>
      </tr>
      </tbody>
    </table>
    <div *ngIf="pagedItems.length > 1">
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          <li class="page-item">
            <a class="page-link" (click)="selectPage(0)" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
            </a>
          </li>
          <div *ngFor="let pages of pagedItems; let i = index">
            <div *ngIf="selectedPage !== i; else activePage">
              <li class="page-item"><a class="page-link" (click)="selectPage(i)">{{i+1}}</a></li>
            </div>
            <ng-template #activePage>
              <li class="page-item active"><a class="page-link" (click)="selectPage(i)">{{i+1}}</a></li>
            </ng-template>
          </div>
          <li class="page-item">
            <a class="page-link" (click)="selectPage(pagedItems.length-1)" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>
